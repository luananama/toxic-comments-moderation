{"remainingRequest":"C:\\thesis\\magpie-exp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\thesis\\magpie-exp\\node_modules\\magpie-base\\src\\components\\Experiment.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\thesis\\magpie-exp\\node_modules\\magpie-base\\src\\components\\Experiment.vue","mtime":1651676246593},{"path":"C:\\thesis\\magpie-exp\\node_modules\\css-loader\\dist\\cjs.js","mtime":1651676242449},{"path":"C:\\thesis\\magpie-exp\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1651676244489},{"path":"C:\\thesis\\magpie-exp\\node_modules\\postcss-loader\\src\\index.js","mtime":1651676243373},{"path":"C:\\thesis\\magpie-exp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651676241754},{"path":"C:\\thesis\\magpie-exp\\node_modules\\vue-loader\\lib\\index.js","mtime":1651676243816}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouZXhwZXJpbWVudCB7CiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICBtYXJnaW46IDMlIGF1dG87CiAgd2lkdGg6IDkwMHB4OwogIG1pbi1oZWlnaHQ6IDYwMHB4OwogIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgYm9yZGVyOiAxcHggc29saWQgI2FiYWJhYjsKICBwYWRkaW5nOiAyMHB4OwogIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkOwogIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBncmF5c2NhbGU7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBkaXNwbGF5OiBmbGV4OwogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC44Nyk7CiAgZm9udC1zaXplOiAxN3B4OwogIGxpbmUtaGVpZ2h0OiAyN3B4OwogIGZvbnQtZmFtaWx5OiAnTGF0bycsICdOb3RvIFNhbnMnLCBzYW5zLXNlcmlmOwp9CgouZXhwZXJpbWVudC53aWRlIHsKICB3aWR0aDogMTAwJTsKICBtYXJnaW46IDA7CiAgbWluLWhlaWdodDogOTh2aDsgLyogOTglIG9mIHZpZXdwb3J0IGhlaWdodCAqLwogIGJvcmRlcjogbm9uZTsKfQoKLmhlYWRlciB7CiAgdGV4dC1hbGlnbjogbGVmdDsKICBkaXNwbGF5OiBmbGV4OwogIGZsZXgtZGlyZWN0aW9uOiByb3c7CiAgZmxleC1ncm93OiAwOwp9CgouaGVhZGVyIC5jb2wgewogIGZsZXgtc2hyaW5rOiAwOwogIGZsZXgtZ3JvdzogMTsKfQoKLmhlYWRlciAuY29sOmxhc3QtY2hpbGQgewogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IHJvdy1yZXZlcnNlOwp9CgouZXhwZXJpbWVudC53aWRlIC5oZWFkZXIgLmNvbDpsYXN0LWNoaWxkIHsKICBmbGV4LWRpcmVjdGlvbjogcm93Owp9CgouaGVhZGVyIC5rLXByb2dyZXNzLW91dGVyIHsKICBwYWRkaW5nLXJpZ2h0OiAwOyAvKiBoYWNreSBzdHlsZWZpeCBmb3IgcHJvZ3Jlc3MgYmFyICovCn0KCi8qKgogRGVmYXVsdCBzdHlsZXMKICovCgpoMSwKaDIsCmgzLApoNCB7CiAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC44Nyk7CiAgZm9udC1mYW1pbHk6ICdQbGF5ZmFpciBEaXNwbGF5JywgJ05vdG8gU2VyaWYnLCBzZXJpZjsKICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KCmgxIHsKICBmb250LXNpemU6IDM0cHg7Cn0KCmJ1dHRvbiB7CiAgYmFja2dyb3VuZC1jb2xvcjogIzUxODdiYTsKICBib3JkZXI6IG5vbmU7CiAgYm9yZGVyLXJhZGl1czogMnB4OwogIGNvbG9yOiB3aGl0ZTsKICBkaXNwbGF5OiBibG9jazsKICBmb250LWZhbWlseTogJ0xhdG8nLCAnTm90byBTYW5zJywgc2Fucy1zZXJpZjsKICBmb250LXNpemU6IDEycHg7CiAgbGluZS1oZWlnaHQ6IDIwcHg7CiAgZm9udC13ZWlnaHQ6IDcwMDsKICBsZXR0ZXItc3BhY2luZzogMC45cHg7CiAgbWFyZ2luOiA0MHB4IGF1dG8gMjBweCBhdXRvOwogIG91dGxpbmU6IG5vbmU7CiAgcGFkZGluZzogNXB4IDEwcHg7CiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsKfQoKYnV0dG9uOmhvdmVyLApidXR0b246Zm9jdXMgewogIGJhY2tncm91bmQtY29sb3I6ICMzMjRkOTM7Cn0KCmltZywKdmlkZW8gewogIG1heC13aWR0aDogMTAwJTsKICBoZWlnaHQ6IGF1dG87CiAgbWF4LWhlaWdodDogNDAwcHg7CiAgd2lkdGg6IGF1dG87Cn0K"},{"version":3,"sources":["Experiment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Experiment.vue","sourceRoot":"node_modules/magpie-base/src/components","sourcesContent":["<docs>\n### A simple experiment with 3 screens\n\n```vue\n<Experiment>\n\n    <Screen>\n      blue\n      <button @click=\"$magpie.nextScreen()\">next</button>\n    </Screen>\n\n    <Screen>\n      green\n      <button @click=\"$magpie.nextScreen()\">next</button>\n    </Screen>\n\n    <Screen>\n      yellow\n    </Screen>\n\n</Experiment>\n```\n\n### Using a loop to create screens\n\n```vue\n<Experiment>\n\n    <Screen v-for=\"(color, i) in ['blue', 'green', 'yellow']\" :key=\"i\">\n      <Slide>\n        Screen {{i}}: {{ color }}\n        <button @click=\"$magpie.nextScreen()\">next</button>\n      </Slide>\n    </Screen>\n\n</Experiment>\n```\n\n\n### Providing a title\nBesides the `screens` slot, the Experiment component also provides an optional `title` slot that allows you to display header information on all screens of your experiment.\n\n```vue\n<Experiment>\n  <template #title>\n    My experiment\n  </template>\n  <template #default>\n    <Screen>\n      blue\n      <button @click=\"$magpie.nextScreen()\">next</button>\n    </Screen>\n    <Screen>\n      green\n      <button @click=\"$magpie.nextScreen()\">next</button>\n    </Screen>\n    <Screen>\n      yellow\n    </Screen>\n  </template>\n</Experiment>\n```\n</docs>\n\n<script>\nimport Magpie from '../Magpie';\nimport kProgress from 'k-progress';\n\n/**\n * This is the main component for your online experiment. Put it at the root of your application.\n * The experiment is available in all subcomponents and in the parent as `$magpie`\n */\nexport default {\n  name: 'Experiment',\n  props: {\n    /**\n     * Whether to display the experiment in wide format-filling mode\n     */\n    wide: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Optionally specify a title for your experiment which will be displayed in the browser title bar (or in the browser tab)\n     */\n    title: {\n      type: String,\n      default: ''\n    },\n    /**\n     * Optionally specify variables that should be recorded for the whole experiment\n     */\n    recordData: {\n      type: Object,\n      default: () => ({})\n    },\n\n    /**\n     * Pass an array of paths to images that will be needed in this experiment to enable preloading\n     */\n    imageAssets: {\n      type: Array,\n      default() {\n        return [];\n      }\n    },\n\n    /**\n     * Pass an array of paths to audio files that will be needed in this experiment to enable preloading\n     */\n    audioAssets: {\n      type: Array,\n      default() {\n        return [];\n      }\n    },\n\n    /**\n     * Pass an array of paths to video files that will be needed in this experiment to enable preloading\n     */\n    videoAssets: {\n      type: Array,\n      default() {\n        return [];\n      }\n    }\n  },\n  data() {\n    return {\n      currentScreenComponent: {}\n    };\n  },\n  created() {\n    this.$parent.magpie = new Magpie(this.$options.magpie);\n    this.$magpie.experiment = this;\n    window.$magpie = this.$magpie;\n\n    if (this.$magpie.socketUrl) {\n      let previousParticipantCount = 0;\n      this.$watch('$magpie.socket.participants', (val) => {\n        if (val.length - previousParticipantCount < 0) {\n          window.alert(this.$t('interactive.general.aborted'));\n          const screens = this.$slots.default.filter(\n            (c) => !!c.componentOptions\n          );\n          this.$magpie.nextScreen(screens.length - 1);\n        }\n        previousParticipantCount = val.length;\n      });\n    }\n\n    if (this.title) {\n      document.title = this.title;\n    }\n\n    // preload images\n    this.imageAssets.forEach((path) => {\n      const preloadLink = document.createElement('link');\n      preloadLink.href = path;\n      preloadLink.rel = 'preload';\n      preloadLink.as = 'image';\n      document.head.appendChild(preloadLink);\n    });\n\n    // preload audio\n    this.audioAssets.forEach((path) => {\n      const preloadLink = document.createElement('link');\n      preloadLink.href = path;\n      preloadLink.rel = 'preload';\n      preloadLink.as = 'audio';\n      document.head.appendChild(preloadLink);\n    });\n\n    // preload video\n    this.videoAssets.forEach((path) => {\n      const preloadLink = document.createElement('link');\n      preloadLink.href = path;\n      preloadLink.rel = 'preload';\n      preloadLink.as = 'video';\n      document.head.appendChild(preloadLink);\n    });\n\n    this.$magpie.addExpData(this.recordData);\n\n    // Ask the user before closing the page\n    window.addEventListener('beforeunload', (e) => {\n      e.preventDefault();\n    });\n  },\n  mounted() {\n    this.$el.addEventListener('mousemove', (e) =>\n      this.$magpie.mousetracking.onMouseMove(e)\n    );\n  },\n  methods: {\n    scrollToTop() {\n      // Scroll to top of experiment element\n      const expPos = this.$el.getBoundingClientRect();\n      window.scrollTo(0, window.scrollY + expPos.top);\n    }\n  },\n\n  /**\n   * The contents of this slot will be visible during the entire experiment\n   * @slot title\n   */\n  /**\n   * Place your screens inside this slot. They will be visible one after the other, like a slide show.\n   * @slot default\n   */\n  render(h) {\n    const children = this.$slots.default;\n    const screen = children\n      ? children.filter((c) => !!c.componentOptions)[\n          this.$magpie.currentScreenIndex\n        ]\n      : null;\n    // Avoid reusing children\n    screen.key = this.$magpie.currentScreenIndex;\n    return h('div', { class: 'experiment' + (this.wide ? ' wide' : '') }, [\n      h('div', { class: 'header' }, [\n        h('div', { class: 'col title' }, this.$slots.title),\n        h('div', { class: 'col status' }, [\n          this.$magpie.progress !== -1\n            ? h(kProgress, {\n                props: {\n                  percent: this.$magpie.progress * 100,\n                  showText: false,\n                  lineHeight: 10\n                },\n                style: { width: '150px' }\n              })\n            : null\n        ])\n      ]),\n      screen\n    ]);\n  }\n};\n</script>\n\n<style>\n.experiment {\n  box-sizing: border-box;\n  margin: 3% auto;\n  width: 900px;\n  min-height: 600px;\n  border-radius: 10px;\n  border: 1px solid #ababab;\n  padding: 20px;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  color: rgba(0, 0, 0, 0.87);\n  font-size: 17px;\n  line-height: 27px;\n  font-family: 'Lato', 'Noto Sans', sans-serif;\n}\n\n.experiment.wide {\n  width: 100%;\n  margin: 0;\n  min-height: 98vh; /* 98% of viewport height */\n  border: none;\n}\n\n.header {\n  text-align: left;\n  display: flex;\n  flex-direction: row;\n  flex-grow: 0;\n}\n\n.header .col {\n  flex-shrink: 0;\n  flex-grow: 1;\n}\n\n.header .col:last-child {\n  display: flex;\n  flex-direction: row-reverse;\n}\n\n.experiment.wide .header .col:last-child {\n  flex-direction: row;\n}\n\n.header .k-progress-outer {\n  padding-right: 0; /* hacky stylefix for progress bar */\n}\n\n/**\n Default styles\n */\n\nh1,\nh2,\nh3,\nh4 {\n  color: rgba(0, 0, 0, 0.87);\n  font-family: 'Playfair Display', 'Noto Serif', serif;\n  text-align: center;\n}\n\nh1 {\n  font-size: 34px;\n}\n\nbutton {\n  background-color: #5187ba;\n  border: none;\n  border-radius: 2px;\n  color: white;\n  display: block;\n  font-family: 'Lato', 'Noto Sans', sans-serif;\n  font-size: 12px;\n  line-height: 20px;\n  font-weight: 700;\n  letter-spacing: 0.9px;\n  margin: 40px auto 20px auto;\n  outline: none;\n  padding: 5px 10px;\n  text-transform: uppercase;\n}\n\nbutton:hover,\nbutton:focus {\n  background-color: #324d93;\n}\n\nimg,\nvideo {\n  max-width: 100%;\n  height: auto;\n  max-height: 400px;\n  width: auto;\n}\n</style>\n"]}]}